<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>ADB remote debug | Macfred&#39;s Pages</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="Android,Debug" />
    
    <meta name="description" content="Sometimes we may need to work on a remote machine, edit or debug .etc, in which case adb seems not working at all, because it must be running on a local machine. Emulator might be helpful, however, w">
<meta name="keywords" content="Android,Debug">
<meta property="og:type" content="article">
<meta property="og:title" content="ADB remote debug">
<meta property="og:url" content="https://macfreds.github.io/2019/03/30/ADB-remote-debug/index.html">
<meta property="og:site_name" content="Macfred&#39;s Pages">
<meta property="og:description" content="Sometimes we may need to work on a remote machine, edit or debug .etc, in which case adb seems not working at all, because it must be running on a local machine. Emulator might be helpful, however, w">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.loli.net/2019/03/31/5c9fb5ff46c7e.png">
<meta property="og:updated_time" content="2019-03-31T06:41:03.788Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ADB remote debug">
<meta name="twitter:description" content="Sometimes we may need to work on a remote machine, edit or debug .etc, in which case adb seems not working at all, because it must be running on a local machine. Emulator might be helpful, however, w">
<meta name="twitter:image" content="https://i.loli.net/2019/03/31/5c9fb5ff46c7e.png">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-137357724-1', 'auto');
ga('send', 'pageview');

</script>

    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">...</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Tech/">Tech</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Tech/Android/">Android</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Tech/Android/">Android</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-ADB-remote-debug" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        ADB remote debug
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2019/03/30/ADB-remote-debug/" class="article-date">
            <time datetime="2019-03-30T15:45:30.000Z" itemprop="datePublished">2019-03-30</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Android/">Android</a>, <a class="tag-link" href="/tags/Debug/">Debug</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p> Sometimes we may need to work on a remote machine, edit or debug .etc, in which case adb seems not working at all, because it must be running on a local machine. Emulator might be helpful, however, we just need to debug on a specific device ocationaly. Here comes the solution.</p>
<h2 id="Preparations"><a href="#Preparations" class="headerlink" title="Preparations"></a>Preparations</h2><p>ADB is implemented on a classic Client-Server structure, in which server side interact with android device on usb link, and is involked by client through port <strong>5037</strong>. The only step is just simply connect adb client running on remote machine with adb server on local machine using <strong>port forwarding</strong>.<br>You need to install Android SDK on both local and remote machines, and add {ANDROID_SDK}/platform_tools folder as environment variable.</p>
<h3 id="ADB-server-side"><a href="#ADB-server-side" class="headerlink" title="ADB server side"></a>ADB server side</h3><p>In our solution, adb server runs on local machine. Except adb server, SSH server are needed as well which provides port forwarding funcionality. In our case we use <strong><a href="https://www.bitvise.com/ssh-server" title="Bitwise" target="_blank" rel="noopener">Bitwise SSH server</a></strong> on windows platform, you might choose your own favorable implementaton on other platform.</p>
<p><img src="https://i.loli.net/2019/03/31/5c9fb5ff46c7e.png" alt="Bitwise server config step 1"><br><img src="https://i.loli.net/2019/03/31/5c9fb6c583391.png" alt="Bitwise server config step 2"><br><img src="https://i.loli.net/2019/03/31/5c9fb6c583391.png" alt="Bitwise server config step 3"><br><img src="https://i.loli.net/2019/03/31/5c9fb79312693.png" alt="Bitwise server config step 4"><br><img src="https://i.loli.net/2019/03/31/5c9fb8adee760.png" alt="Bitwise server config step 5"><br><img src="https://i.loli.net/2019/03/31/5c9fb96f07133.png" alt="Bitwise server config step 6"></p>
<h3 id="ADB-client-side"><a href="#ADB-client-side" class="headerlink" title="ADB client side"></a>ADB client side</h3><p>ADB clinet runs on remote machine, what we have to do is just simply connect to ssh server from remote machine. On windows, <strong><a href="https://www.putty.org/" title="putty" target="_blank" rel="noopener">Putty</a></strong> is a popular ssh clinet, go with the following steps.</p>
<ol>
<li>Input ip and ssh port of your local machine.</li>
<li>Add <strong>5037</strong> as forwarded port, and let <strong>localhost:5037</strong> be destination.</li>
<li>Save putty configuration for later reuse.</li>
<li>Connect to ssh server.</li>
</ol>
<p><img src="https://i.loli.net/2019/03/31/5c9fa5213cccd.png" alt="Putty forward config"></p>
<h2 id="Final-setup"><a href="#Final-setup" class="headerlink" title="Final setup"></a>Final setup</h2><p>Before everything is done, we have to verify that adb client on remote machine can recongize adb server on local machine.</p>
<ol>
<li>On local machine, open a cmd terminal, input “<strong>adb devices</strong>“ command to detect connected android devices. You can also do this in ssh session terminal from remote machine. Go to next step if your devices are listed in the output.</li>
<li>On remote machine, open a cmd terminal, input “<strong>adb devices</strong>“ command. If your devices are listed again here, congrate! You can now work on adb remote debug session!</li>
</ol>
<h2 id="Important-notice"><a href="#Important-notice" class="headerlink" title="Important notice"></a>Important notice</h2><ol>
<li>You must ensure that adb on both machine are of the same version, refer to “<strong>adb version</strong>“ command for more information.</li>
<li>On adb client side, if adb server cannot be recongized, adb client will start a adb server on the same machine, after this adb server on local machine won’t recongized any more. You must start adb server on local machine and open ssh session before everything, ensure that <strong><em>adb server won’t be running on remote machine</em></strong>. It is highly recommended that start Android Studio after adb remote debug session is established.</li>
<li>You can use adb client function on both local and remote machine at the same time, however, only one debug session can be setup up at a time. You might have to terminate Android Studio for another machine machine to seize control of debugging.</li>
<li>Some Android device manager utility on desktop may be integrated with adb in it’s own package, if you have installed this on your remote machine, <strong>it may interfere with our setup!</strong> Keep that in mind if remote debug just don’t work when everything seems to be done.</li>
</ol>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://macfreds.github.io/2019/03/30/ADB-remote-debug/" data-id="cjtwkq0pw00016qizeqtvuumm" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "macfred"
        },
        "headline": "ADB remote debug",
        "image": "https://macfreds.github.iohttps://i.loli.net/2019/03/31/5c9fb5ff46c7e.png",
        "keywords": "Android Debug",
        "genre": "Tech Android",
        "datePublished": "2019-03-30",
        "dateCreated": "2019-03-30",
        "dateModified": "2019-03-31",
        "url": "https://macfreds.github.io/2019/03/30/ADB-remote-debug/",
        "description": " Sometimes we may need to work on a remote machine, edit or debug .etc, in which case adb seems not working at all, because it must be running on a local machine. Emulator might be helpful, however, w"
        "wordCount": 564
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/macfreds" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/03/30/ADB-remote-debug/" class="thumbnail">
    
    
        <span style="background-image:url(https://i.loli.net/2019/03/31/5c9fb5ff46c7e.png)" alt="ADB remote debug" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tech/Android/">Android</a></p>
                            <p class="item-title"><a href="/2019/03/30/ADB-remote-debug/" class="title">ADB remote debug</a></p>
                            <p class="item-date"><time datetime="2019-03-30T15:45:30.000Z" itemprop="datePublished">2019-03-30</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/Android/">Android</a><span class="category-list-count">1</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debug/">Debug</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Debug/" style="font-size: 10px;">Debug</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2019 macfred</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'macfreds-pages';
    
    
    var disqus_url = 'https://macfreds.github.io/2019/03/30/ADB-remote-debug/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
